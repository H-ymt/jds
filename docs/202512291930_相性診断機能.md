# 相性診断モード (Compatibility Diagnosis)

## 概要

自分自身の命式だけでなく、パートナー、家族、友人、またはビジネスパートナーなどの生年月日を追加で入力し、二人の間の相性や関係性を算命学のロジックに基づいて診断する機能です。

## 主な機能

1.  **二人目の入力フォーム**:
    - メインの入力フォームに加え、比較対象となる相手の生年月日・性別を入力するモードを追加します。

2.  **関係性の算出・表示**:
    - **共通干支**: 律音、納音、大半会などの特殊な関係性の有無をチェックします。
    - **相性スコア**: 五行の相生・相剋関係から、基本的な相性の良さを数値化またはランク付けして表示します。
    - **関係性タイプ**: 「相互補完型」「類似型」「刺激型」など、二人がどのような関係になりやすいかをキーワードで提示します。

3.  **宇宙盤（行動領域）の可視化**:
    - 円形のチャート（宇宙盤）上に、自分と相手のそれぞれの行動領域（三角形）を描画します。
    - 領域の重なり具合（重なりが大きい、全く重ならない、点が接するなど）を視覚的に表現し、行動パターンの一致度を示します。

## メリット

- **バイラル効果の促進**: ユーザーが自分以外の人のことを占うために利用するため、友人やパートナーへのシェア・口コミが期待できます。
- **利用シーンの拡大**: 個人の自己分析ツールから、コミュニケーションツールへと用途が広がります。

## 実装イメージ

- **UI**: 2 カラムのレイアウトで自分と相手の命式を並列表示。その下に相性診断結果を表示。
- **Logic**: 既存の `calculator.ts` を拡張し、2 つの命式データを比較・評価するロジック（`CompatibilityCalculator`）を追加。
- **Visualization**: Canvas または SVG を使用して、2 つの三角形が重なる宇宙盤を描画するコンポーネントを作成。
